diff --git a/pom.xml b/pom.xml
index efb7152..300e01d 100644
--- a/pom.xml
+++ b/pom.xml
@@ -243,12 +243,6 @@
             <version>4.1.0</version>
             <scope>test</scope>
         </dependency>
-        <dependency>
-            <groupId>no.nav.security</groupId>
-            <artifactId>token-validation-test-support</artifactId>
-            <version>${token-validation-spring.version}</version>
-            <scope>test</scope>
-        </dependency>
     </dependencies>

     <repositories>
diff --git a/src/main/resources/application-postgres.yaml b/src/main/resources/application-postgres.yaml
index 51a0aef..90fe6a3 100644
--- a/src/main/resources/application-postgres.yaml
+++ b/src/main/resources/application-postgres.yaml
@@ -1,9 +1,12 @@
 no.nav.security.jwt:
   issuer:
+    tokenx:
+      discoveryurl: ${TOKEN_X_WELL_KNOWN_URL}
+      accepted_audience: ${TOKEN_X_CLIENT_ID}
     selvbetjening:
-      discoveryurl: http://metadata
-      accepted_audience: aud-localhost
-      cookie_name: localhost-idtoken
+      discoveryurl: ${LOGINSERVICE_IDPORTEN_DISCOVERY_URL}
+      accepted_audience: ${LOGINSERVICE_IDPORTEN_AUDIENCE}
+      cookie_name: selvbetjening-idtoken
       # Kommenteres ut ved lokal testing av innsending av s√∏knad
     #    azuread:
     #      discoveryurl: https://login.microsoftonline.com/navq.onmicrosoft.com/v2.0/.well-known/openid-configuration
@@ -39,6 +42,16 @@ no.nav.security.jwt:
           client-id: ${CLIENT_ID}
           client-secret: ${CLIENT_SECRET}
           client-auth-method: client_secret_basic
+      dokument-clientauth:
+        resource-url: ${FAMILIE_DOKUMENT_API_URL}
+        well-known-url: ${TOKEN_X_WELL_KNOWN_URL}
+        grant-type: urn:ietf:params:oauth:grant-type:token-exchange
+        token-exchange:
+          audience: dev-local:teamfamilie:familie-dokument
+        authentication:
+          client-id: ${TOKEN_X_CLIENT_ID}
+          client-auth-method: private_key_jwt
+          client-jwk: ${TOKEN_X_PRIVATE_JWK}


 credential:
diff --git a/src/test/kotlin/no/nav/familie/ba/mottak/DevLauncher.kt b/src/test/kotlin/no/nav/familie/ba/mottak/DevLauncher.kt
index 6c92612..24fa324 100644
--- a/src/test/kotlin/no/nav/familie/ba/mottak/DevLauncher.kt
+++ b/src/test/kotlin/no/nav/familie/ba/mottak/DevLauncher.kt
@@ -1,11 +1,10 @@
 package no.nav.familie.ba.mottak

 import no.nav.familie.ba.mottak.config.ApplicationConfig
-import no.nav.security.token.support.test.spring.TokenGeneratorConfiguration
 import org.springframework.boot.builder.SpringApplicationBuilder
 import org.springframework.context.annotation.Import

-@Import(TokenGeneratorConfiguration::class, ApplicationConfig::class)
+@Import(ApplicationConfig::class)
 class DevLauncher

 fun main(args: Array<String>) {
diff --git a/src/test/kotlin/no/nav/familie/ba/mottak/DevLauncherPostgres.kt b/src/test/kotlin/no/nav/familie/ba/mottak/DevLauncherPostgres.kt
index b4cf801..53ba659 100644
--- a/src/test/kotlin/no/nav/familie/ba/mottak/DevLauncherPostgres.kt
+++ b/src/test/kotlin/no/nav/familie/ba/mottak/DevLauncherPostgres.kt
@@ -1,16 +1,15 @@
 package no.nav.familie.ba.mottak

 import no.nav.familie.ba.mottak.config.ApplicationConfig
-import no.nav.security.token.support.test.spring.TokenGeneratorConfiguration
 import org.springframework.boot.builder.SpringApplicationBuilder
 import org.springframework.context.annotation.Import

-@Import(TokenGeneratorConfiguration::class, ApplicationConfig::class)
+@Import(ApplicationConfig::class)

 class DevLauncherPostgres

 fun main(args: Array<String>) {
     val app = SpringApplicationBuilder(DevLauncherPostgres::class.java)
-            .profiles("postgres", "mock-dokarkiv", "mock-dokgen")
+            .profiles("postgres", "mock-dokarkiv")
     app.run(*args)
 }
\ No newline at end of file
